# Auth Service Configuration - Development
# NOTE: Sensitive values (passwords, secrets) should be overridden via environment variables
# Format: SECTION_KEY (e.g., TOKEN_SECRET, DATABASE_PASSWORD)

app:
  name: auth-service
  version: 1.0.0
  environment: development

http_server:
  host: localhost
  port: 8081  # Auth service port per architecture doc
  allow_origins: "*"
  allow_methods: "GET,POST,PUT,DELETE,OPTIONS"
  allow_headers: "Origin,Content-Type,Accept,Authorization,X-Request-ID"
  mode: debug
  read_timeout: 30s
  write_timeout: 30s

logger:
  level: debug
  format: console

cockroach_db:
  host: localhost
  port: 26257
  user: root
  password: ""  # Override via COCKROACH_DB_PASSWORD env var
  db_name: rmn_auth
  ssl_mode: disable
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 300s
  log_level: info

token:
  # CRITICAL: Override via TOKEN_SECRET env var in production!
  secret: ""  # Must be set via TOKEN_SECRET env var
  access_token_expiration_time: 900      # 15 minutes in seconds
  refresh_token_expiration_time: 604800  # 7 days in seconds

redis:
  host: localhost
  port: 6379
  password: ""  # Override via REDIS_PASSWORD env var
  db: 0

kafka:
  brokers: localhost:9092
  client_id: auth-service
  group_id: auth-consumer-group
  auto_offset_reset: earliest
  schema_registry_url: http://localhost:8081

# OAuth2 Configuration - Override secrets via env vars
oauth2:
  google:
    client_id: ""      # Override via OAUTH2_GOOGLE_CLIENT_ID
    client_secret: ""  # Override via OAUTH2_GOOGLE_CLIENT_SECRET
    redirect_uri: "http://localhost:8080/api/v1/auth/google/callback"
    scopes:
      - "https://www.googleapis.com/auth/userinfo.email"
      - "https://www.googleapis.com/auth/userinfo.profile"
  github:
    client_id: ""      # Override via OAUTH2_GITHUB_CLIENT_ID
    client_secret: ""  # Override via OAUTH2_GITHUB_CLIENT_SECRET
    redirect_uri: "http://localhost:8080/api/v1/auth/github/callback"
    scopes:
      - "user:email"

# Email Configuration - Override secrets via env vars
email:
  smtp_host: ""
  smtp_port: 587
  smtp_username: ""   # Override via EMAIL_SMTP_USERNAME
  smtp_password: ""   # Override via EMAIL_SMTP_PASSWORD
  from_email: ""
  from_name: "RMN Platform"
